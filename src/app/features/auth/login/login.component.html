<div class="login-container">
  <div class="login-card">
    <!-- Logo e Título -->
    <div class="login-header">
      <img src="assets/images/logo_sm.png" alt="Taurus" class="logo">
      <p class="subtitle">Sistema de Vendas e Reservas de imóveis</p>
    </div>

    <!-- Formulário de Login -->
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
      
      <!-- Mensagem de Aviso -->
      <div class="warning-message" *ngIf="errorMessage">
        <div class="warning-alert">
          <i class="pi pi-exclamation-triangle"></i>
          <div class="warning-content">
            <strong>Atenção!</strong>
            <p>{{ errorMessage }}</p>
          </div>
        </div>
      </div>

      <!-- Campo CPF -->
      <div class="form-field">
        <span class="p-float-label">
          <input 
            id="cpf" 
            type="text" 
            pInputText 
            formControlName="cpf"
            [class.ng-invalid]="submitted && f['cpf'].errors"
            class="w-full"
            autocomplete="username"
            maxlength="14"
            (input)="onCpfInput($event)"
          >
          <label for="cpf">CPF</label>
        </span>
        <small class="p-error" *ngIf="submitted && f['cpf'].errors?.['required']">
          CPF é obrigatório
        </small>
        <small class="p-error" *ngIf="submitted && f['cpf'].errors?.['minlength']">
          CPF deve ter 11 dígitos
        </small>
        <div class="field-helper" *ngIf="!submitted || (!f['cpf'].errors?.['required'] && !f['cpf'].errors?.['minlength'])" style="visibility: hidden;">
          <i class="pi pi-info-circle"></i>
          <span>&nbsp;</span>
        </div>
      </div>

      <!-- Campo Senha -->
      <div class="form-field">
        <span class="p-float-label">
          <p-password 
            id="senha"
            formControlName="senha"
            [toggleMask]="true"
            [feedback]="false"
            [class.ng-invalid]="submitted && f['senha'].errors"
            inputId="senha"
            autocomplete="new-password"
          ></p-password>
          <label for="senha">Senha</label>
        </span>
        <small class="p-error" *ngIf="submitted && f['senha'].errors?.['required']">
          Senha é obrigatória
        </small>
        <small class="p-error" *ngIf="submitted && f['senha'].errors?.['minlength']">
          Senha deve ter no mínimo 6 caracteres
        </small>
      </div>

      <!-- Botão de Login -->
      <div class="form-actions">
        <p-button 
          type="submit"
          label="Entrar" 
          icon="pi pi-sign-in"
          [loading]="loading"
          styleClass="w-full"
        ></p-button>
      </div>

      <!-- Links adicionais -->
      <div class="form-footer">
        <a routerLink="/auth/recuperar-senha" class="forgot-password">Esqueceu sua senha?</a>
      </div>
    </form>
  </div>

  <!-- Footer -->
  <div class="login-footer">
    <p>&copy; 2026 CALTER Construtora - Todos os direitos reservados</p>
  </div>
</div>
